<app-header></app-header>
<div class="flex">
    <div>
        <app-aside></app-aside>
    </div>
    <div class="static z-0 mt-10 h-screen flex-1 overflow-x-hidden p-0 pt-10 shadow-lg sm:p-10 sm:pt-10">
        <div class="filters block justify-between sm:flex">
            <mat-form-field class="w-[100%] sm:w-80">
                <mat-label>Filter</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input class="custom-input" />
            </mat-form-field>
             <!-- renan year start -->
             <mat-form-field class="w-[100%] sm:w-80">
                <mat-label>Year</mat-label>
                <mat-select [(value)]="latestYearNumber" (selectionChange)="selectYearNumber($event)">
                    <mat-option [value]="null">Clear</mat-option>
                    <mat-option *ngFor="let year of yearNumber" [value]="year.toString()">
                        {{ year }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <!-- renan year end -->
            <mat-form-field class="w-[100%] sm:w-80">
                <mat-label>Week no.</mat-label>
                <mat-select  [(value)]="latestWeekNumber" (selectionChange)="selectWeekNumber($event)">
                    <mat-option [value]="null">Clear</mat-option>
                    <mat-option *ngFor="let data of weekNumber" [value]="data.value.toString()">
                        {{ data.wk_name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
           
        </div>
        <div class="static overflow-auto">
            <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource">
                    <ng-container matColumnDef="week_no">
                        <th mat-header-cell *matHeaderCellDef>WEEK NO.</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                            (click)="
                                openDialog(element.id, element.week_no, element.user.id, element.start_date, element.end_date)
                            "
                        >
                            {{ element.week_no }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="employee">
                        <th mat-header-cell *matHeaderCellDef>EMPLOYEE</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                            (click)="
                                openDialog(element.id, element.week_no, element.user.id, element.start_date, element.end_date)
                            "
                        >
                            {{ element.employee_name }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="approved">
                        <th mat-header-cell *matHeaderCellDef>APRROVED</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                            (click)="
                                openDialog(element.id, element.week_no, element.user.id, element.start_date, element.end_date)
                            "
                        >
                            {{ element.approved }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="start_date">
                        <th mat-header-cell *matHeaderCellDef>START DATE</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                            (click)="
                                openDialog(element.id, element.week_no, element.user.id, element.start_date, element.end_date)
                            "
                        >
                            {{ element.start_date | date: "EEE, MMM d" }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="end_date">
                        <th mat-header-cell *matHeaderCellDef>END DATE</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                            (click)="
                                openDialog(element.id, element.week_no, element.user.id, element.start_date, element.end_date)
                            "
                        >
                            {{ element.end_date | date: "EEE, MMM d" }}
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                </table>
            </div>
        </div>
        <mat-paginator [pageSizeOptions]="[5, 6, 7]" showFirstLastButtons aria-label="Select page of periodic elements">
        </mat-paginator>
    </div>
</div>
